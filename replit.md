# FinTrack - Personal Finance Management Application

## Overview

FinTrack is a personal finance management application that helps users track income, expenses, debts, and investments. The application provides a dashboard with KPI cards, transaction management, debt tracking with payment progress, and investment portfolio monitoring. All financial calculations are automatic - users simply enter amounts and select transaction types.

**Core Features:**
- Income/Expense tracking with automatic cash balance calculations
- Debt management with payment tracking and progress visualization
- Investment portfolio with gain/loss calculations
- Dashboard with financial summary and charts
- Transaction filtering by date range and type

## User Preferences

Preferred communication style: Simple, everyday language.

## System Architecture

### Frontend Architecture
- **Framework:** React 18 with TypeScript
- **Routing:** Wouter (lightweight React router)
- **State Management:** TanStack React Query for server state
- **Styling:** Tailwind CSS with CSS variables for theming
- **UI Components:** shadcn/ui component library (Radix UI primitives)
- **Charts:** Recharts for data visualization
- **Forms:** React Hook Form with Zod validation
- **Build Tool:** Vite with custom plugins for Replit integration

### Backend Architecture
- **Runtime:** Node.js with Express.js
- **Language:** TypeScript (ESM modules)
- **API Design:** RESTful endpoints under `/api/` prefix
- **Validation:** Zod schemas shared between client and server
- **Development:** Vite middleware for HMR during development

### Data Layer
- **ORM:** Drizzle ORM with PostgreSQL dialect
- **Database:** PostgreSQL (connection via `DATABASE_URL` environment variable)
- **Schema Location:** `shared/schema.ts` (shared between client and server)
- **Migrations:** Drizzle Kit with output to `./migrations`

### Project Structure
```
├── client/           # React frontend application
│   └── src/
│       ├── components/   # UI components including shadcn/ui
│       ├── hooks/        # Custom React hooks for data fetching
│       ├── pages/        # Page components (Home, Transactions, Debts, Investments)
│       └── lib/          # Utilities and query client setup
├── server/           # Express backend
│   ├── routes.ts     # API route definitions
│   ├── storage.ts    # Database operations (IStorage interface)
│   └── db.ts         # Database connection setup
├── shared/           # Shared code between client and server
│   ├── schema.ts     # Drizzle table definitions and Zod schemas
│   └── routes.ts     # API route contracts with Zod validation
└── migrations/       # Database migrations (generated by Drizzle Kit)
```

### API Design Pattern
The API uses a contract-first approach defined in `shared/routes.ts`:
- Each endpoint specifies method, path, input schema, and response schemas
- Input validation happens on both client (forms) and server (request handlers)
- Type-safe request/response handling using Zod inference

### Database Schema
Three main tables:
1. **transactions** - All financial transactions (income, expense, debt_payment)
2. **debts** - Debt definitions with initial amounts
3. **investments** - Investment tracking with invested amount and current value

### Build System
- Development: `npm run dev` - Uses tsx to run TypeScript directly with Vite middleware
- Production: `npm run build` - Vite builds frontend, esbuild bundles server
- Database: `npm run db:push` - Push schema changes to database

## External Dependencies

### Database
- **PostgreSQL** - Primary data store, connection string via `DATABASE_URL` environment variable
- **connect-pg-simple** - Session store for Express sessions (available but sessions not currently implemented)

### Key NPM Packages
- **drizzle-orm / drizzle-kit** - Database ORM and migration tooling
- **@tanstack/react-query** - Async state management for API calls
- **react-hook-form** - Form state management
- **zod / drizzle-zod** - Schema validation and type generation
- **recharts** - Chart library for financial visualizations
- **date-fns** - Date manipulation utilities
- **lucide-react** - Icon library

### Replit-Specific Integrations
- **@replit/vite-plugin-runtime-error-modal** - Error overlay in development
- **@replit/vite-plugin-cartographer** - Development tooling (dev only)
- **@replit/vite-plugin-dev-banner** - Development banner (dev only)